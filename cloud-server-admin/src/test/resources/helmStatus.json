{
  "name": "cloud-server",
  "info": {
    "first_deployed": "2025-04-14T00:57:14.687691+08:00",
    "last_deployed": "2025-04-19T01:00:12.115801+08:00",
    "deleted": "",
    "description": "Upgrade complete",
    "status": "deployed"
  },
  "manifest": "---\n# Source: cloud-server/templates/cloud-server-service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: cloud-server-service\nspec:\n  selector:\n    app: cloud-server\n  ports:\n    - protocol: TCP\n      port: 9099\n      targetPort: 9099\n  type: NodePort\n---\n# Source: cloud-server/templates/cloud-server-deploy.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: cloud-server-deploy\n  namespace: cloud-server\n  labels:\n    app: cloud-server\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: cloud-server\n  template:\n    metadata:\n      name: cloud-server\n      labels:\n        app: cloud-server\n    spec:\n      containers:\n        - name: cloud-server\n          image: registry.cn-hangzhou.aliyuncs.com/gpg_dev/cloud-server:2025-04-14-01-04-42\n          imagePullPolicy: IfNotPresent\n          ports:\n            - containerPort: 9099\n              protocol: TCP\n          resources:\n            requests:\n              cpu: 400m\n              memory: 1024Mi\n            limits:\n              cpu: 800m\n              memory: 2048Mi\n      restartPolicy: Always\n---\n# Source: cloud-server/templates/cloud-server-ingress.yaml\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: cloud-server-ingress\nspec:\n  rules:\n    - host: cloud-server-k8s.gpg123.vip\n      http:\n        paths:\n          - path: /\n            pathType: Prefix\n            backend:\n              service:\n                name: cloud-server-service\n                port:\n                  number: 9099\n---\n# Source: cloud-server/templates/cloud-server-ingress-route.yaml\n# ingressroute.yaml\napiVersion: traefik.io/v1alpha1\nkind: IngressRoute\nmetadata:\n  name: cloud-server-ingress-route\nspec:\n  entryPoints:\n    - web\n    - websecure\n  routes:\n    - match: Host(`cloud-server-k8s.gpg123.vip`)\n      kind: Rule\n      services:\n        - name: cloud-server-service\n          port: 9099\n  tls:\n    certResolver: \"myCertResolver\"  # 引用 Let's Encrypt 解析器[9](@ref)\n---\n# Source: cloud-server/templates/cloud-server-monitor.yaml\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: cloud-server\n  labels:\n    app.kubernetes.io/name: cloud-server\n    release: kube-prometheus-stack\nspec:\n  selector:\n    matchLabels:            # Service选择器\n      app: cloud-server\n  namespaceSelector:        # Namespace选择器\n    matchNames:\n      - cloud-server\n  endpoints:\n    - port: metrics           # 采集节点端口（svc定义）\n      interval: 10s           # 采集频率根据实际需求配置，prometheus默认15s\n      path: /actuator/prometheus          # 默认地址/metrics\n",
  "version": 10,
  "namespace": "cloud-server"
}